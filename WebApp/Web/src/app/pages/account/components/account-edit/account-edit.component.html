<div class="d-flex flex-column justify-content-center">
    <h4 class="m-2 d-flex justify-content-center">Edit account</h4>
    <form [formGroup]="form" class="form d-flex justify-content-center" (ngSubmit)="onSubmit()">
        <input type="hidden" formControlName="id" />
        <div class="card account-form">
            <div class="card-header">Fill all fields and press Update.</div>
            <div class="card-body">
                <div class="form-group mb-2">
                    <label for="firstName">First name</label>
                    <input type="text" id="firstName" formControlName="firstName" class="form-control" [class.is-invalid]="form.get('firstName')?.touched && form.get('firstName')?.invalid">
                    @if (form.get('firstName')?.hasError('required')) {
                        <div class="invalid-feedback">First name is required</div>
                    }
                </div>
                <div class="form-group mb-2">
                    <label for="lastName">Last name</label>
                    <input type="text" id="lastName" formControlName="lastName" class="form-control" [class.is-invalid]="form.get('lastName')?.touched && form.get('lastName')?.invalid">
                    @if (form.get('lastName')?.hasError('required')) {
                        <div class="invalid-feedback">Last name is required</div>
                    }
                </div>
                <div class="form-group mb-2">
                    <label for="login">Login</label>
                    <input type="text" id="login" formControlName="login" class="form-control" [class.is-invalid]="form.get('login')?.touched && form.get('login')?.invalid">
                    @if (form.get('login')?.hasError('required')) {
                        <div class="invalid-feedback">Login is required</div>
                    }
                    @if (form.get('login')?.hasError('ACCOUNT_LOGIN_EXISTS')) {
                        <div class="invalid-feedback">This login exists</div>
                    }
                </div>
            </div>
            <div class="card-footer">
                <div class="d-flex flex-row">
                    <a href="#" class="btn btn-secondary" routerLink="/account">Cancel</a>
                    <button type="submit" class="btn btn-primary ms-auto" [disabled]="!form.valid">Update</button>
                </div>
            </div>

        </div>
    </form>
</div>
